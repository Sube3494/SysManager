# ⚙️ 配置示例

## 1. 默认配置（所有群都可用）

```json
{
  "enabled_groups": [],
  "command_timeout": 30,
  "max_output_length": 2000,
  "log_operations": true
}
```

**效果：**
- ✅ 所有群聊都可以使用
- ✅ 私聊也可以使用
- ✅ 仅管理员可用

---

## 2. 限制特定群组

```json
{
  "enabled_groups": [123456789, 987654321],
  "command_timeout": 30,
  "max_output_length": 2000,
  "log_operations": true
}
```

**效果：**
- ✅ 只在群 123456789 和 987654321 中生效
- ✅ 私聊仍然可用
- ❌ 其他群中无法使用（静默忽略）

**如何获取群号：**
1. 在群里发送 `/sid`
2. 返回类似：`aiocqhttp:GroupMessage:123456789`
3. 最后的数字 `123456789` 就是群号

---

## 3. 生产环境配置（推荐）

```json
{
  "enabled_groups": [你的管理群号],
  "command_timeout": 60,
  "max_output_length": 3000,
  "log_operations": true
}
```

**效果：**
- ✅ 只在管理群生效
- ✅ 更长的超时时间（适合慢命令）
- ✅ 更大的输出长度
- ✅ 记录所有操作

---

## 4. 测试环境配置

```json
{
  "enabled_groups": [],
  "command_timeout": 15,
  "max_output_length": 1000,
  "log_operations": true
}
```

**效果：**
- ✅ 所有群可用（方便测试）
- ⏱️ 较短超时（快速响应）
- 📏 较小输出（避免刷屏）

---

## 💡 使用建议

### 场景一：个人服务器
**建议：** 不限制群组
```json
{
  "enabled_groups": []
}
```

### 场景二：团队服务器
**建议：** 限制在运维群
```json
{
  "enabled_groups": [运维群号]
}
```

### 场景三：多服务器管理
**建议：** 每个群对应不同服务器
- 可以部署多个AstrBot实例
- 每个实例配置不同的群组

---

## 🔍 如何查看会话ID和群号

### 在群里查看群号

```
你: /sid
Bot: 会话ID: aiocqhttp:GroupMessage:123456789
     用户ID: user:456789
     
群号就是: 123456789
```

### 在私聊查看

```
你: /sid
Bot: 会话ID: aiocqhttp:PrivateMessage:123456
     用户ID: user:123456
```

私聊没有群号，默认总是允许使用。

---

## 📝 配置步骤

1. **打开Web面板** → 插件管理 → 服务器管理 → 配置
2. **修改 `enabled_groups`**
   - 留空 `[]` = 所有群可用
   - 填群号 `[123456789]` = 只在指定群可用
3. **保存并重启插件**

---

**配置完成后立即生效！** ✅

